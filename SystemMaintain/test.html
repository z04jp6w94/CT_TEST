<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>演示：jQuery实现表格行上移下移和置顶</title>
<meta name="keywords" content="jquery,滑动" />
<meta name="description" content="Helloweba文章结合实例演示HTML5、CSS3、jquery、PHP等WEB技术应用。" />
<link rel="stylesheet" type="text/css" href="../css/main.css" />
<style type="text/css">
.demo{width:600px; margin:60px auto 10px auto; font-size:16px}
.table {border-collapse: collapse !important;width: 100%;max-width: 100%;margin-bottom: 20px;}
.table td,.table th {background-color: #fff !important;}
.table-bordered th,.table-bordered td {border: 1px solid #ddd !important;}
.table tr td {padding: 8px;line-height: 1.42857143;vertical-align: middle;border-bottom: 1px solid #ddd;}
.table tr:hover {background-color: #f5f5f5;}
</style>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script>
$(function(){
	//上移
	var $up = $(".up")
    $up.click(function() {
        var $li = $(this).parents("li");
        if ($li.index() != 0) {
			$li.fadeOut().fadeIn();
			$li.prev().before($li);
			
        }
    });
    //下移
    var $down = $(".down");
    var len = $down.length;
    $down.click(function() {
        var $li = $(this).parents("li");
//		alert($(this).parents("textarea").val());
        if ($li.index() != len - 1) {
			$li.fadeOut().fadeIn();
            $li.next().after($li);
        }
    });
	
	var $uploadup = $(".umoveUp")
    $uploadup.click(function() {
        var $li = $(this).parents("li");
        if ($li.index() != 0) {
			$li.fadeOut().fadeIn();
			$li.prev().before($li);
			
        }
    });
    //下移
    var $uploaddown = $(".umoveDown");
    var len = $uploaddown.length;
    $uploaddown.click(function() {
        var $li = $(this).parents("li");
        if ($li.index() != len - 1) {
			$li.fadeOut().fadeIn();
            $li.next().after($li);
        }
    });
	
	//置顶
/*	var $top = $(".top");
	$top.click(function(){
		var $tr = $(this).parents("tr");
		$tr.fadeOut().fadeIn();
		$(".table").prepend($tr);
		$tr.css("color","#f60");
	});*/
});

		function Upload(id){
			
			var a = '';
			a = id.replace(/OpenImgUpload/, ""); 
//			alert(a);
			
			$('#imgupload'+a).trigger('click'); 
		
			$("#imgupload"+a).change(function(){
				
				if (this.files && this.files[0]) {
					var reader = new FileReader();
					
					reader.onload = function (e) {
						$('#blah'+a).attr('src', e.target.result);
					}
					
					reader.readAsDataURL(this.files[0]);
				}
			});
						
		}
		
</script>
</head>

<body>	
<div id="header">
</div>
<div id="main">

	<div class="demo">
		<table class="table">
        	<ul class="stepper upload">
                <li>
                    <textarea class="fullWidth sized-text-1" id="Description1" name="Description1">4</textarea>
                    <div class="tools withUpload">
                    <input type="file" id="imgupload1" name="imgupload1" style="display:none"/> 
                        <a href="javascript:;" id="OpenImgUpload1" class="OpenImgUpload" onclick="Upload(this.id)"><img id="blah1" src="#" style="width:122px; height:81px; margin-left:-21.5px;"></a><!-- 以這個A 的click 事件驅動檔案上傳功能，上傳後調整尺寸更新到期內的IMG -->
                        <button type="button" value="" class="umoveUp"><span class="hiddenItem">上移</span></button>
                        <button type="button" value="" class="umoveDown"><span class="hiddenItem">下移</span></button>
                    </div>
                    <div class="clearFloat"></div>
                </li>
                <li>
                    <textarea class="fullWidth sized-text-1" id="Description2" name="Description2">5</textarea>
                    <div class="tools withUpload">
                    <input type="file" id="imgupload2" name="imgupload2" style="display:none"/> 
                        <a href="javascript:;" id="OpenImgUpload2" class="OpenImgUpload" onclick="Upload(this.id)"><img id="blah2" src="#" style="width:122px; height:81px; margin-left:-21.5px;"></a><!-- 以這個A 的click 事件驅動檔案上傳功能，上傳後調整尺寸更新到期內的IMG -->
                        <button type="button" value="" class="umoveUp"><span class="hiddenItem">上移</span></button>
                        <button type="button" value="" class="umoveDown"><span class="hiddenItem">下移</span></button>
                    </div>
                    <div class="clearFloat"></div>
                </li>
                <li>
                    <textarea class="fullWidth sized-text-1" id="Description3" name="Description3">6</textarea>
                    <div class="tools withUpload">
                    <input type="file" id="imgupload3" name="imgupload3" style="display:none"/> 
                        <a href="javascript:;" id="OpenImgUpload3" class="OpenImgUpload" onclick="Upload(this.id)"><img id="blah3" src="#" style="width:122px; height:81px; margin-left:-21.5px;"></a><!-- 以這個A 的click 事件驅動檔案上傳功能，上傳後調整尺寸更新到期內的IMG -->
                        <button type="button" value="" class="umoveUp"><span class="hiddenItem">上移</span></button>
                        <button type="button" value="" class="umoveDown"><span class="hiddenItem">下移</span></button>
                    </div>
                    <div class="clearFloat"></div>
                </li>
            </ul>
            
            
            
        	<ul class="stepper talk">
                <li>
                    <textarea id="talk1" name="talk1" class="fullWidth sized-text-1">1</textarea>
                    <div class="tools">
                        <button type="button" value="" class="up"><span class="hiddenItem">上移</span></button>
                        <button type="button" value="" class="down"><span class="hiddenItem">下移</span></button>
                    </div>
                    <div class="clearFloat"></div>
                </li>
                <li>
                    <textarea id="talk1" name="talk1" class="fullWidth sized-text-1">2</textarea>
                    <div class="tools">
                        <button type="button" value="" class="up"><span class="hiddenItem">上移</span></button>
                        <button type="button" value="" class="down"><span class="hiddenItem">下移</span></button>
                    </div>
                    <div class="clearFloat"></div>
                </li>
                <li>
                    <textarea id="talk1" name="talk1" class="fullWidth sized-text-1">3</textarea>
                    <div class="tools">
                        <button type="button" value="" class="up"><span class="hiddenItem">上移</span></button>
                        <button type="button" value="" class="down"><span class="hiddenItem">下移</span></button>
                    </div>
                    <div class="clearFloat"></div>
                </li>
            </ul>
                        
			<!--<tr>
				<td>HTML5获取地理位置定位信息</td>
				<td>2015-04-25</td>
				<td><a href="#" class="up">上移</a> <a href="#" class="down">下移</a></td>
			</tr>
			<tr>
				<td>CSS+Cookie实现的固定页脚广告条</td>
				<td>2015-04-18</td>
				<td><a href="#" class="up">上移</a> <a href="#" class="down">下移</a></td>
			</tr>
			<tr>
				<td>纯CSS3制作漂亮的价格表</td>
				<td>2015-04-10</td>
				<td><a href="#" class="up">上移</a> <a href="#" class="down">下移</a></td>
			</tr>
			<tr>
				<td>jQuery实现的测试答题功能</td>
				<td>2015-03-29</td>
				<td><a href="#" class="up">上移</a> <a href="#" class="down">下移</a></td>
			</tr>-->
		</table>
	</div>
	
	
</div>
<div id="footer">
    
</div>

</body>
</html>
